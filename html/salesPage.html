<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/salesPage.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css">
    <script defer type="module" src="../javaScript/SalePage/sale-generate.js"></script>
    <title>Salg</title>
</head>
<body>
    <!-- HEADER-->
    <div id="logo" class="mb-1 container">
        <div class="inline-block logo-div">
            <h1 class="logo-name">Gyldne</h1>
        </div>
        <div class="inline-block logo-div">
            <img id="pizza-man-img" src="../images/pizza-man.png" width="85px">
        </div>
        <div id="logo-name-pizza" class="inline-block logo-div">
            <h1 class="logo-name">Pizza</h1>
        </div>
    </div>
    
    <!-- MENY -->
    <nav class="navbar is-dark" role="navigation" aria-label="main navigation">
        <div id="navbarBasicExample" class="navbar-menu is-active">
            <div class="navbar-start">
                <a class="navbar-item menu-link" href="http://127.0.0.1:5501/html/mainPage.html">
                    Forside
                </a>
                <a class="navbar-item menu-link" href="http://127.0.0.1:5501/html/restaurantsPage.html">
                    Restauranter
                </a>
                <a class="navbar-item menu-link" href="http://127.0.0.1:5501/html/employeePage.html">
                    Ansatte
                </a>
                <a class="navbar-item menu-link" href="http://127.0.0.1:5501/html/menuPage.html">
                    Meny
                </a>
                <a href="salesPage.html" class="navbar-item menu-link">
                    Salg
                </a>
            </div>
        </div>
    </nav>

    <!-- TAB MENY -->
    <div class="tabs is-centered is-toggle mt-2">
        <ul>
            <li class="is-active" data-target="sale-details">
                <a>Omsetning</a>
            </li>
            <li id="dishes-btn" data-target="sale-dishes-details">
                <a>Omsetning-retter</a>
            </li>
        </ul>
    </div>
    <div class="px-2" id="tab-content">
        <!-- OMSETNINGDELEN STARTER HER -->
        <div id="sale-details">
            <div class="has-text-right">
                <button class="button is-small" id="edit-sale-btn">Rediger omsetning</button>
                <button class="button is-small is-warning" id="add-sale-btn">Legg til omsetning</button>
            </div>
            <!-- INPUTFELT -->
            <div class="container">
                <div class="columns">
                    <div class="column is-3">
                        <div class="level-item">
                            <input id="search-txt-store" class="input is-small" type="text" placeholder="Restaurant">
                            <button class="button is-small is-light" id="search-stores-btn">Søk restaurant</button>
                        </div>
                        <div class="level-item">
                            <input id="search-txt-year" class="input is-small" type="text" placeholder="Årstall">
                            <button class="button is-small is-light" id="search-year-btn">Søk årstall</button>
                        </div>
                        <div class="level-item">
                            <input id="search-txt-month" class="input is-small" type="text" placeholder="Måned">
                            <button class="button is-small is-light" id="search-month-btn">Søk måned</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- CONTAINER MED ARRAYS -->
            <div class="container">
                <main>
                    <section id="sale-section" class="columns is-multiline">
                        
                    </section>
                </main>
            </div>
        </div>



        
        <!-- OMSETNING AV RETTER STARTER HER -->
        <div id="sale-dishes-details">
            
            <div class="has-text-left">
                <div class="level-left">

                    <!--Dropdown meny-->
                    <div class="level-item">
                        <div class="columns is-centered">
                            <div class="column">
                                <!--OSLO S-->
                                <div class="dropdown" id="dp-oslos">
                                    <div class="dropdown-trigger">
                                        <button class="button" 
                                                aria-haspopup="true"
                                                aria-controls="dropdown-menu">
                                            <span>Oslo S</span>
                                            <span class="icon is-small">
                                            <i class="fas fa-angle-down" 
                                                aria-hidden="true"></i>
                                            </span>
                                        </button>
                                        </div>
                                        <!--Valgene som dukker opp når man trykker på dropdown-menyen-->
                                        <div class="dropdown-menu" 
                                            id="dropdown-menu" 
                                            role="menu">
                                        <div class="dropdown-content">
                                        
                                            <a href="#" class="dropdown-item" id="drinks-sort-by-oslo-btn">
                                                Drikke
                                            </a>
                                
                                            <a href="#" class="dropdown-item" id="appetizer-sort-by-oslo-btn">
                                                Forett
                                            </a>
                                
                                            <a href="#" class="dropdown-item" id="main-course-sort-by-oslo-btn">
                                                Hovedrett
                                            </a>
                    
                                            <a href="#" class="dropdown-item" id="pizza-sort-by-oslo-btn">
                                                Pizza
                                            </a>

                                            <a href="#" class="dropdown-item" id="dessert-sort-by-oslo-btn">
                                                Dessert
                                            </a>

                                            <a href="#" class="dropdown-item" id="all-dishes-oslo-btn">
                                                Alle
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <!--MAJORSTUEN-->
                                <div class="dropdown" id="dp-majorstuen">
                                    <div class="dropdown-trigger">
                                        <button class="button" 
                                                aria-haspopup="true"
                                                aria-controls="dropdown-menu">
                                            <span>Majorstuen</span>
                                            <span class="icon is-small">
                                            <i class="fas fa-angle-down" 
                                                aria-hidden="true"></i>
                                            </span>
                                        </button>
                                        </div>
                                        <!--Valgene som dukker opp når man trykker på dropdown-menyen-->
                                        <div class="dropdown-menu" 
                                            id="dropdown-menu" 
                                            role="menu">
                                        <div class="dropdown-content">
                                        
                                            <a href="#" class="dropdown-item" id="drinks-sort-by-majo-btn">
                                                Drikke
                                            </a>
                                
                                            <a href="#" class="dropdown-item" id="appetizer-sort-by-majo-btn">
                                                Forett
                                            </a>
                                
                                            <a href="#" class="dropdown-item" id="main-course-sort-by-majo-btn">
                                                Hovedrett
                                            </a>
                    
                                            <a href="#" class="dropdown-item" id="pizza-sort-by-majo-btn">
                                                Pizza
                                            </a>

                                            <a href="#" class="dropdown-item" id="dessert-sort-by-majo-btn">
                                                Dessert
                                            </a>

                                            <a href="#" class="dropdown-item" id="all-dishes-majo-btn">
                                                Alle
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <!--KARL JOHAN-->
                                <div class="dropdown" id="dp-karljohan">
                                    <div class="dropdown-trigger">
                                        <button class="button" 
                                                aria-haspopup="true"
                                                aria-controls="dropdown-menu">
                                            <span>Karl Johan</span>
                                            <span class="icon is-small">
                                            <i class="fas fa-angle-down" 
                                                aria-hidden="true"></i>
                                            </span>
                                        </button>
                                        </div>
                                        <!--Valgene som dukker opp når man trykker på dropdown-menyen-->
                                        <div class="dropdown-menu" 
                                            id="dropdown-menu" 
                                            role="menu">
                                        <div class="dropdown-content">
                                        
                                            <a href="#" class="dropdown-item" id="drinks-sort-by-karljohan-btn">
                                                Drikke
                                            </a>
                                
                                            <a href="#" class="dropdown-item" id="appetizer-sort-by-karljohan-btn">
                                                Forett
                                            </a>
                                
                                            <a href="#" class="dropdown-item" id="main-course-sort-by-karljohan-btn">
                                                Hovedrett
                                            </a>
                    
                                            <a href="#" class="dropdown-item" id="pizza-sort-by-karljohan-btn">
                                                Pizza
                                            </a>

                                            <a href="#" class="dropdown-item" id="dessert-sort-by-karljohan-btn">
                                                Dessert
                                            </a>

                                            <a href="#" class="dropdown-item" id="all-dishes-karljohan-btn">
                                                Alle
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <!--TORSHOV-->
                                <div class="dropdown" id="dp-torshov">
                                    <div class="dropdown-trigger">
                                        <button class="button" 
                                                aria-haspopup="true"
                                                aria-controls="dropdown-menu">
                                            <span>Torshov</span>
                                            <span class="icon is-small">
                                            <i class="fas fa-angle-down" 
                                                aria-hidden="true"></i>
                                            </span>
                                        </button>
                                        </div>
                                        <!--Valgene som dukker opp når man trykker på dropdown-menyen-->
                                        <div class="dropdown-menu" 
                                            id="dropdown-menu" 
                                            role="menu">
                                        <div class="dropdown-content">
                                        
                                            <a href="#" class="dropdown-item" id="drinks-sort-by-torshov-btn">
                                            Drikke
                                            </a>
                                
                                            <a href="#" class="dropdown-item" id="appetizer-sort-by-torshov-btn">
                                            Forett
                                            </a>
                                
                                            <a href="#" class="dropdown-item" id="main-course-sort-by-torshov-btn">
                                            Hovedrett
                                            </a>
                    
                                            <a href="#" class="dropdown-item" id="pizza-sort-by-torshov-btn">
                                            Pizza
                                            </a>

                                            <a href="#" class="dropdown-item" id="dessert-sort-by-torshov-btn">
                                                Dessert
                                            </a>

                                            <a href="#" class="dropdown-item" id="all-dishes-torshov-btn">
                                                Alle
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <script>
                        //Oslo S
                        const dropdownOslo =
                              document.querySelector('#dp-majorstuen');
                        const activeOslo =
                              document.querySelector('.is-active')
                        document.body.addEventListener('click', function () {
                          if (activeOslo) {
                            dropdownOslo.classList.remove('is-active')
                          }
                        })
                        dropdownOslo.addEventListener('click', function (event) {
                          event.stopPropagation();
                          this.classList.toggle('is-active');
                        });


                        //Majorsuten
                        const dropdownM =
                              document.querySelector('#dp-oslos');
                        const activeM =
                              document.querySelector('.is-active')
                        document.body.addEventListener('click', function () {
                          if (activeM) {
                            dropdownM.classList.remove('is-active')
                          }
                        })
                        dropdownM.addEventListener('click', function (event) {
                          event.stopPropagation();
                          this.classList.toggle('is-active');
                        });

                        //Torshov
                        const dropdownT =
                              document.querySelector('#dp-torshov');
                        const activeT =
                              document.querySelector('.is-active')
                        document.body.addEventListener('click', function () {
                          if (activeT) {
                            dropdownT.classList.remove('is-active')
                          }
                        })
                        dropdownT.addEventListener('click', function (event) {
                          event.stopPropagation();
                          this.classList.toggle('is-active');
                        });

                        //Karl Johan
                        const dropdownKJ =
                              document.querySelector('#dp-karljohan');
                        const activeKJ =
                              document.querySelector('.is-active')
                        document.body.addEventListener('click', function () {
                          if (activeKJ) {
                            dropdownKJ.classList.remove('is-active')
                          }
                        })
                        dropdownKJ.addEventListener('click', function (event) {
                          event.stopPropagation();
                          this.classList.toggle('is-active');
                        });
            
                      </script>
                    <!-- MODAL - LEGG TIL OMSETNING -->
                    <div class="modal" id="modal-add-sale">
                            <div class="modal-background"></div>
                            <div class="modal-card">
                                <header class="modal-card-head">
                                    <p class="modal-card-title">LEGG TIL OMSETNING</p>
                                    <button class="delete" aria-label="close"></button>
                                </header>
                                <section class="modal-card-body">
                                    <label>Restaurant:</label>
                                    <input id="add-restaurant-sale-firstpage-txt" type="text" placeholder="restaurant">
                                    <label>År: </label>
                                    <input id="add-year-sale-firstpage-txt" type="text" placeholder="årstall">
                                    <label>Måned: </label>
                                    <input id="add-month-sale-firstpage-txt" type="text" placeholder="month">
                                    <label>Brutto: </label>
                                    <input id="add-brutto-sale-firstpage-txt" type="text" placeholder="brutto">
                                    <label>Netto: </label>
                                    <input id="add-netto-sale-firstpage-txt" type="text" placeholder="netto">
                                </section>
                                <footer class="modal-card-foot">
                                    <button class="button" id="modal-add-sale-approve-btn">Lagre</button>
                                    <button class="button" id="modal-add-sale-cancel-btn">Avbryt</button>
                                </footer>
                            </div>
                    </div>
                    <!-- MODAL - BEKREFT -->
                    <div class="modal" id="modal-validate-add-sale" >
                            <div class="modal-background"></div>
                            <div class="modal-card">
                                <header class="modal-card-head">
                                    <p class="modal-card-title">BEKREFT</p>
                                    <button class="delete" aria-label="close"></button>
                                </header>
                                <section class="modal-card-body">
                                    <p id="input-add-sale"></p>
                                    <br>
                                    <p>Er du sikker på at du vil gjøre denne endringen? </p>
                                </section>
                                <footer class="modal-card-foot">
                                    <button class="button" id="modal-validate-add-sale-approve-btn">Godkjenn</button>
                                    <button class="button" id="modal-validate-add-sale-cancel-btn">Avbryt</button>
                                </footer>
                            </div>
                    </div>
                    <!-- MODAL - BEKREFTELSE -->
                    <div class="modal" id="modal-add-sale-validation" >
                            <div class="modal-background"></div>
                            <div class="modal-card">
                                <header class="modal-card-head">
                                    <p class="modal-card-title">HANDLING BEKREFTET</p>
                                    <button class="delete" aria-label="close"></button>
                                </header>
                                <section class="modal-card-body">
                                    <p>Ett nytt salg er nå lagt inn</p>
                                </section>
                                <footer class="modal-card-foot">
                                    <button class="button" id="modal-add-sale-validation-approve-btn">OK</button>
                                </footer>
                            </div>
                    </div>
                    <!-- MODAL REDIGER -->
                    <div class="modal" id="modal-edit-sale" >
                            <div class="modal-background"></div>
                            <div class="modal-card">
                                <header class="modal-card-head">
                                    <p class="modal-card-title">REDIGER OMSETNING</p>
                                    <p>Legge inn</p>
                                    <button class="delete" aria-label="close"></button>
                                </header>
                                <section class="modal-card-body">
                                    <label>Restaurant:</label>
                                    <input id="add-restaurant-sale-secondpage-txt" type="text" placeholder="restaurant">
                                    <label>År: </label>
                                    <input id="add-restaurant-sale-secondpage-txt" type="text" placeholder="årstall">
                                    <label>Måned: </label>
                                    <input id="add-restaurant-sale-secondpage-txt" type="text" placeholder="month">
                                </section>
                                <footer class="modal-card-foot">
                                    <button class="button" id="modal-edit-sale-approve-btn">Videre</button>
                                    <button class="button" id="modal-edit-sale-cancel-btn">Avbryt</button>
                                </footer>
                            </div>
                    </div>
                    <!-- MODAL REDIGER - HVA SKAL REDIGERES -->
                    <div class="modal" id="modal-edit-sale-details" >
                            <div class="modal-background"></div>
                            <div class="modal-card">
                                <header class="modal-card-head">
                                    <p class="modal-card-title">HVA SKAL ENDRES?</p>
                                    <p>Informasjon</p>
                                    <button class="delete" aria-label="close"></button>
                                </header>
                                <section class="modal-card-body">
                                    <label>Netto:</label>
                                    <input id="add-restaurant-sale-secondpage-txt" type="text" placeholder="netto">
                                    <label>Brutto: </label>
                                    <input id="add-restaurant-sale-secondpage-txt" type="text" placeholder="brutto">
                                </section>
                                <footer class="modal-card-foot">
                                    <button class="button" id="modal-edit-sale-details-approve-btn">Godkjenn</button>
                                    <button class="button" id="modal-edit-sale-details-cancel-btn">Avbryt</button>
                                </footer>
                            </div>
                    </div>
                    <!-- MODAL REDIGER BEKREFT-->
                    <div class="modal" id="modal-edit-sale-validate" >
                            <div class="modal-background"></div>
                            <div class="modal-card">
                                <header class="modal-card-head">
                                    <p class="modal-card-title">ER DU SIKKER</p>
                                    <button class="delete" aria-label="close"></button>
                                </header>
                                <section class="modal-card-body">
                                    <p>Er du sikker på at du vil gjennomføre denne endringen?</p>
                                </section>
                                <footer class="modal-card-foot">
                                    <button class="button" id="modal-edit-sale-validate-approve-btn">Godkjenn</button>
                                    <button class="button" id="modal-edit-sale-validate-cancel-btn">Avbryt</button>
                                </footer>
                            </div>
                    </div>
                    <!-- MODAL BEKREFTELSE -->
                    <div class="modal" id="modal-edit-sale-validation" >
                            <div class="modal-background"></div>
                            <div class="modal-card">
                                <header class="modal-card-head">
                                    <p class="modal-card-title">HANDLING BEKREFTET</p>
                                    <button class="delete" aria-label="close"></button>
                                </header>
                                <section class="modal-card-body">
                                    <p>Endringer har nå blitt gjort</p>
                                </section>
                                <footer class="modal-card-foot">
                                    <button class="button" id="modal-edit-sale-validation-approve-btn">OK</button>
                                </footer>
                            </div>
                    </div>
                </div>
                <!-- OMSETNING - SALG-->
                <div class="has-text-right">
                    <button class="button is-small" id="edit-dish-btn">Rediger omsetning</button>
                    <button class="button is-small is-warning" id="add-dish-btn">Legg til omsetning</button>
                </div>
                <!-- TABELL-->
                <table class="table is-bordered has-text-left ">
                    <thead>
                        <th>Arbeidssted</th>
                        <th>Rett/drikke</th>
                        <th>Antall solgte</th>
                        <th>Pris pr. enhet</th>
                        <th>Kategori</th>
                        <th>Pris til sammen</th>
                    </thead>
                    <tbody id="dishes-input-array">

                    </tbody>
                    <tfoot>
                        <tr>
                            <th>Sum</th>
                            <td id=""></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td id="total-sale"></td>
                        </tr>
                    </tfoot>
                </table>
                <!-- MODAL - LEGG TIL SALG -RETTER -->
                <div class="modal" id="modal-add-dish">
                    <div class="modal-background"></div>
                    <div class="modal-card">
                        <header class="modal-card-head">
                            <p class="modal-card-title">LEGG TIL OMSETNING</p>
                            <button class="delete" aria-label="close"></button>
                        </header>
                        <section class="modal-card-body">
                            <label>Restaurant:</label>
                            <input id="add-restaurant-dish-firstpage-txt">
                            <br><br>
                            <label>Kategori: </label>
                            <input id="add-category-dish-firstpage-txt">
                            <br><br>
                            <label>Navn: </label>
                            <input id="add-name-dish-firstpage-txt">
                            <br><br>
                            <label>Pris: </label>
                            <input id="add-price-dish-firstpage-txt">
                            <br><br>
                            <label>Antall: </label>
                            <input id="add-amount-dish-firstpage-txt">                            <br><br>
                        </section>
                        <footer class="modal-card-foot">
                            <button class="button" id="modal-add-dish-approve-btn">Lagre</button>
                            <button class="button" id="modal-add-dish-cancel-btn">Avbryt</button>
                        </footer>
                    </div>
                </div>
                <!-- MODAL - BEKREFT -->
                <div class="modal" id="modal-validate-add-dish" >
                    <div class="modal-background"></div>
                    <div class="modal-card">
                        <header class="modal-card-head">
                            <p class="modal-card-title">BEKREFT</p>
                            <button class="delete" aria-label="close"></button>
                        </header>
                        <section class="modal-card-body">
                            <p id="input-add-dish"></p>
                            <p>Er du sikker på at du vil gjøre denne endringen? </p>
                        </section>
                        <footer class="modal-card-foot">
                            <button class="button" id="modal-validate-add-dish-approve-btn">Godkjenn</button>
                            <button class="button" id="modal-validate-add-dish-cancel-btn">Avbryt</button>
                        </footer>
                    </div>
                </div>
                <!-- MODAL - BEKREFTELSE -->
                <div class="modal" id="modal-add-dish-validation" >
                    <div class="modal-background"></div>
                    <div class="modal-card">
                        <header class="modal-card-head">
                            <p class="modal-card-title">HANDLING BEKREFTET</p>
                            <button class="delete" aria-label="close"></button>
                        </header>
                        <section class="modal-card-body">
                            <p>Ett nytt salg er nå lagt inn</p>
                        </section>
                        <footer class="modal-card-foot">
                            <button class="button" id="modal-add-dish-validation-approve-btn">OK</button>
                        </footer>
                    </div>
                </div>
                <!-- MODAL REDIGER -->
                <div class="modal" id="modal-edit-dish" >
                    <div class="modal-background"></div>
                    <div class="modal-card">
                        <header class="modal-card-head">
                            <p class="modal-card-title">REDIGER OMSETNING</p>
                            <p>Legge inn</p>
                            <button class="delete" aria-label="close"></button>
                        </header>
                        <section class="modal-card-body">
                            <label>Restaurant:</label><input><br><br>
                            <label>År: </label><input><br><br>
                            <label>Måned: </label><input><br><br>
                        </section>
                        <footer class="modal-card-foot">
                            <button class="button" id="modal-edit-dish-approve-btn">Videre</button>
                            <button class="button" id="modal-edit-dish-cancel-btn">Avbryt</button>
                        </footer>
                    </div>
                </div>
                <!-- MODAL REDIGER - HVA SKAL REDIGERES -->
                <div class="modal" id="modal-edit-dish-details" >
                    <div class="modal-background"></div>
                    <div class="modal-card">
                        <header class="modal-card-head">
                            <p class="modal-card-title">HVA SKAL ENDRES?</p>
                            <p>Informasjon</p>
                            <button class="delete" aria-label="close"></button>
                        </header>
                        <section class="modal-card-body">
                            <label>Netto:</label><input><br><br>
                            <label>Brutto: </label><input><br><br>
                        </section>
                        <footer class="modal-card-foot">
                            <button class="button" id="modal-edit-dish-details-approve-btn">Godkjenn</button>
                            <button class="button" id="modal-edit-dish-details-cancel-btn">Avbryt</button>
                        </footer>
                    </div>
                </div>
                <!-- MODAL REDIGER BEKREFT-->
                <div class="modal" id="modal-edit-dish-validate" >
                    <div class="modal-background"></div>
                    <div class="modal-card">
                        <header class="modal-card-head">
                            <p class="modal-card-title">ER DU SIKKER</p>
                            <button class="delete" aria-label="close"></button>
                        </header>
                        <section class="modal-card-body">
                            <p>Er du sikker på at du vil gjennomføre denne endringen?</p>
                        </section>
                        <footer class="modal-card-foot">
                            <button class="button" id="modal-edit-dish-validate-approve-btn">Godkjenn</button>
                            <button class="button" id="modal-edit-dish-validate-cancel-btn">Avbryt</button>
                        </footer>
                    </div>
                </div>
                <!-- MODAL BEKREFTELSE -->
                <div class="modal" id="modal-edit-dish-validation" >
                    <div class="modal-background"></div>
                    <div class="modal-card">
                        <header class="modal-card-head">
                            <p class="modal-card-title">HANDLING BEKREFTET</p>
                            <button class="delete" aria-label="close"></button>
                        </header>
                        <section class="modal-card-body">
                            <p>Endringer har nå blitt gjort</p>
                        </section>
                        <footer class="modal-card-foot">
                            <button class="button" id="modal-edit-dish-validation-approve-btn">OK</button>
                        </footer>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>